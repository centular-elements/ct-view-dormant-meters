<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../paper-input/paper-textarea.html">
<link rel="import" href="../paper-input/paper-input-behavior.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-material/paper-material.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-icons/editor-icons.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">
<link rel="import" href="../iron-form/iron-form.html">

<link rel="import" href="../ct-input-element/ct-input-element.html">
<link rel="import" href="../ct-setting-api/ct-setting-api.html">


<!--
`ct-view-settings-dormant-meters`
View the dormant meters template

@demo demo/index.html
-->

<dom-module id="ct-view-settings-dormant-meters">
  <template>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <style is="custom-style">
      :host {
        --iron-icon: {
          margin: 6px;
          font-size: 16px;
          opacity: 0.5;
        };

        --paper-input-container:{
          border-top: 1px solid #ccc;
          border-left: 1px solid #ccc;
          border-right: 1px solid #ccc;
          border-bottom: none;
          padding: 0 !important;
        };

        --paper-input-container-input: {
          text-overflow: ellipsis;
          width: calc(100% - 20px);
          margin-left: 10px;
        };

        --paper-input-container-label: {
          margin-left: 10px;
        };
      }

      .hover-full-opacity:hover{
        opacity: 1;
        cursor:pointer;
      }
      .row-easy {
        padding: 10px 0;
      }
      .margin-10v {
        margin: 10px 0;
      }
      .input-suffix {
        margin-right: 10px;
      }
    </style>

    <ct-setting-api id="settingApi"></ct-setting-api>

    <div class="container-fluid token-input-container">

      <form class="" is="iron-form">
        <div class="row">
          <div class="col-sm-4">
            <div><h4>Dormant Meter Notification Status</h4></div>
          </div>
          <div class="col-sm-8">
              <ct-input-element input-type='boolean'
                                value=''
                                label=''
                                required
                                note='Number of days a meter can be dormant before a notification is sent'
                                error-message='Please provide the number of days before dormant meter notification is sent'
                                ></ct-input-element>



          </div>
        </div>
        <div class="row row-easy">
          <div class="col-sm-4">
            <div><h4>Dormant Meter Threshold</h4></div>
          </div>
          <div class="col-sm-8">
              <ct-input-element input-type='text'
                                value=''
                                label=''
                                required
                                allowed-pattern="[0-9\.]"
                                note='Number of days a meter can be dormant before a notification is sent'
                                error-message='Please provide the number of days before dormant meter notification is sent'>
                <div suffix class="input-suffix"> days</div></ct-input-element>

          </div>
        </div>

        <div class="row row-easy">
          <div class="col-sm-4">
            <div><h4>Dormant Meter Email Template</h4></div>
          </div>
          <div class="col-sm-8">
            <ct-input-element input-type='textarea'
                              value=''
                              label=''
                              required
                              note="Insert <code>[&shy;[meter_num]&shy;]</code> into template to display the affected meter number"
                              error-message='Please enter message template'
                              char-counter maxlength="160"></ct-input-element>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-4">
            <div><h4>Dormant Meter SMS Template</h4></div>
          </div>
          <div class="col-sm-8">
            <ct-input-element input-type='textarea'
                              value=''
                              label=''
                              required
                              note="Insert <code>[&shy;[meter_num]&shy;]</code> into template to display the affected meter number"
                              error-message='Please enter message template'
                              char-counter maxlength="160"></ct-input-element>

          </div>
        </div>
      </form>
    </div>

    <ct-delete-dialog></ct-delete-dialog>

  </template>

  <script>

      Polymer({
          is: 'ct-view-settings-dormant-meters',

          listeners : {
              'iron-form-presubmit': '_formHandler'
          },

          _computeReadOnly : function(status){
              return (!status);
          },

      });

  </script>
</dom-module>
